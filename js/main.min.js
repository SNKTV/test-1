var playBtn=document.querySelector(".bonus__main-wheel-btn"),main=document.querySelector(".bonus__main"),wheel=document.querySelector(".bonus__main-wheel-reel"),overlay=document.querySelector(".bonus__overlay"),popupFirst=document.querySelector(".bonus__firstWin"),popupFirstBtn=document.querySelector(".bonus__firstWin-btn"),popupSecond=document.querySelector(".bonus__secondWin"),overflow=document.querySelector("body"),wrapper=document.querySelector(".bonus"),copyBtn=document.querySelector(".bonus__secondWin-code-btn"),bonusStart=document.querySelector(".bonus__start"),bonusText=document.querySelector(".bonus__text"),audioCoin=document.querySelector(".audio-coins"),audioFirework=document.querySelector(".audio-firework"),audioMain=document.querySelector(".audio-main"),audioWheel=document.querySelector(".audio-wheel"),btnVolume=document.querySelector(".bonus__music"),btnVolumeImg=document.querySelector(".bonus__music-img"),body=document.querySelector("body");function scrollToTop(){var e=document.documentElement.scrollTop||document.body.scrollTop;0<e&&(window.requestAnimationFrame(scrollToTop),window.scrollTo(0,e-e/8))}function runFirstRotation(){scrollToTop(),btnVolume.classList.remove("off"),btnVolume.classList.add("on"),btnVolumeImg.setAttribute("src","images/sound-on.svg"),audioMain.play(),audioFirework.play(),audioWheel.play(),wheel.classList.add("reel-rotation-first"),playBtn.classList.remove("pulse-btn"),playBtn.style.cursor="default",wrapper.style.pointerEvents="none",wrapper.style.overflow="hidden",body.style.overflow="hidden",setTimeout((function(){doAfterFirstRotation()}),6e3)}function doAfterFirstRotation(){audioCoin.play(),wheel.style.transform="rotate(992deg)",wheel.classList.remove("reel-rotation-first"),displayPopup(popupFirst),wrapper.style.pointerEvents="auto",overflow.style.overflow="hidden"}function displayPopup(e){overlay.classList.remove("opacity-overlay"),e.classList.remove("hide")}audioMain.volume=.35,audioFirework.volume=.6,audioCoin.volume=.6,btnVolume.addEventListener("click",(function(){btnVolume.classList.contains("off")?(btnVolume.classList.remove("off"),btnVolume.classList.add("on"),audioMain.play(),audioFirework.play(),btnVolumeImg.setAttribute("src","images/sound-on.svg")):(btnVolume.classList.remove("on"),btnVolume.classList.add("off"),audioMain.pause(),audioMain.currentTime=0,audioFirework.pause(),audioFirework.currentTime=0,audioWheel.pause(),audioWheel.currentTime=0,audioCoin.pause(),audioCoin.currentTime=0,btnVolumeImg.setAttribute("src","images/sound-off.svg"))})),setTimeout((function(){bonusStart.classList.add("_active"),main.classList.add("_active"),setTimeout((function(){bonusText.classList.add("_visible")}),1200)}),3500),copyBtn.addEventListener("click",(function(){copyBtn.classList.add("_copy"),setTimeout((function(){copyBtn.classList.remove("_copy")}),2e3),navigator.clipboard.writeText("FAVBETSEM").then((function(){console.log("copy code")})).catch((function(e){console.error("error",e)}))})),playBtn.addEventListener("click",(function(){runFirstRotation()})),popupFirstBtn.addEventListener("click",(function(){popupFirst.classList.add("_opacity"),popupSecond.classList.remove("_opacity")})),window.addEventListener("orientationchange",(function(){window.location.reload()})),function(){var e,o=new URL(window.location.href),t=["l","utm_source","utm_medium","utm_campaign","utm_term","utm_content","param1","param2"];o.searchParams.has("redirectUrl")&&4===(e=new URL(o.searchParams.get("redirectUrl"))).href.match(/\//g).length&&e.searchParams.get("l")&&localStorage.setItem("redirectUrl",e.href),t.forEach((function(e){o.searchParams.has(e)&&localStorage.setItem(e,o.searchParams.get(e))})),["affid","cpaid"].forEach((function(e){o.searchParams.has(e)&&localStorage.setItem(e,o.searchParams.get(e))})),window.addEventListener("click",(function(e){var r,a=e.target.closest("a");"https://tds.favbet.partners"===a.getAttribute("href")&&a&&(e.preventDefault(),localStorage.getItem("redirectUrl")?r=new URL(localStorage.getItem("redirectUrl")):(r=new URL(a.href),affid=localStorage.getItem("affid"),cpaid=localStorage.getItem("cpaid"),affid&&cpaid&&(r.pathname="/"+affid+"/"+cpaid)),t.forEach((function(e){o.searchParams.has(e)&&r.searchParams.set(e,localStorage.getItem(e))})),document.location.href=r)}))}();